# スクリーンショット

このプロジェクトは、指定されたウェブサイトのURLより、スクリーンショットを自動的に取得するためのツールです。
SeleniumとRubyを使用します。

## 前提条件

- 認証が必要となる画面は、Cookieによるセッション管理のみを想定しており、その他の認証方法は対象外とする。
- Cookieの取得は [EditThisCookie](https://www.editthiscookie.com/) を想定し、それ以外のツールで取得したCookieは対応外とする。

## セットアップ

1. `Gemfile` で使用する Ruby のバージョンをローカル環境に合わせる（必要なバージョン：3.0以上、デフォルトでは3.0.3を使用）。

2. 依存関係をインストールするために、プロジェクトディレクトリで以下のコマンドを実行
~~~bash
  $ bundle install
~~~

## 使用方法

1. キャプチャしたいウェブサイトのURLを `config/urls.csv` に記載

2. プロジェクトディレクトリで以下のコマンドを実行

~~~bash
  $ ruby bin/capture.rb
~~~

3. スクリーンショットは `screenshots/` ディレクトリに保存されます。


## URL設定方法

Basic認証が必要な場合は、URLにユーザー名とパスワードを含めてください

~~~CSV
  https://ユーザー名:パスワード@example.com
~~~

## 認証が必要な画面のキャプチャ方法

1. Chrome 拡張機能`EditThisCookie`をインストールします。

2. 対象サイトにアクセスしログイン認証を実施する

3. `EditThisCookie`で Cookie のエクスポートを実行。
   
4. エクスポートすると Cookie がクリップボードにコピーされるので、 `config/cookies.json` に貼り付け。

## 注意事項

ログイン認証が必要なページのキャプチャを行う場合、適切なCookie情報の設定が必要です。誤った情報が設定されている場合、正しくキャプチャを行うことができません。
